## JVM
![](./JDK%20JRE%20JVM.png)  
  
### JVM 物理结构
![](./JVM%20物理结构.gif)  
  
### Java 编译
Java 代码编译是由 Java 源码编译器来完成，流程如图：  
![](./Java%20Compile.gif)  
Java 字节码的执行是由 JVM 执行引擎来完成，流程如图：  
![](./Java%20Compile%202.gif)  
  
Java 代码编译和执行的整个过程包含了以下三个重要的机制：  
* Java 源码编译机制 - 最后生成的 class 文件
* 类加载机制 - JVM 的类加载是通过 ClassLoader 及其子类来完成的
* 类执行机制 - JVM 是基于栈的体系结构来执行 class 字节码的。线程创建后，都会产生程序计数器（PC）和栈（Stack），程序计数器存放下一条要执行的指令在方法内的偏移量，栈中存放一个个栈帧，每个栈帧对应着每个方法的每次调用，而栈帧又是有局部变量区和操作数栈两部分组成，局部变量区用于存放方法中的局部变量和参数，操作数栈中用于存放方法执行过程中产生的中间结果。  
  
  
### 垃圾回收（Garbage Collection / GC）
垃圾回收机制一般是在 Java 堆中进行，因为堆中几乎存放了 Java 中所有的对象实例。  
垃圾对象的判定 - Java 堆中存放着几乎所有的对象实例，垃圾收集器对堆中的对象进行回收前，要先确定这些对象是否还有用，Java 通过`根搜索算法`判定对象是否为垃圾对象。  
判定垃圾对象之后，便可以通过垃圾收集算法进行垃圾回收了。  
  
  
以上参考[来源](https://wiki.jikexueyuan.com/project/java-vm/)  
